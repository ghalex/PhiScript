<?xml version="1.0" encoding="utf-8"?>
<View width="100%"
	  height="100%"
	  onCreationComplete="creationComplete()"
	  xmlns:screens="screens">

	<VBox width="100%"
		  height="100%"
		  border="0"
		  verticalAlign="middle"
		  horizontalAlign="center">
		
		<VBox gap="4" horizontalAlign="center">
			
		<HBox>
			<TextInput id="itemNameTi"
					   width="160"
					   text="{this.tasksList.selectedItem.label}"/>
					   
			<Button text="Add" onClick="addTask()" />
		</HBox>
					   
		<List id="tasksList" 
			  width="400"
			  height="400"
			  dataProvider="{this.data.tasks}" />
			
		</VBox>
	</VBox>

	<JavaScript>
		
		messages: {
		},
		
		creationComplete: function()
		{
			this.setData( new Phi.Mvc.Model({tasks: this.buildTasks() }));
		},
		
		buildTasks: function()
		{
			var tasks = new Phi.Core.ArrayCollection();
			
			tasks.addItem( new Phi.Mvc.Model({label: "Task1", isDone: false}));
			tasks.addItem( new Phi.Mvc.Model({label: "Task2", isDone: false}));
			
			return tasks;
		},
		
		addTask: function()
		{
			var tasks = this.tasksList.getDataProvider();
			tasks.addItem( new Phi.Mvc.Model({label: this.itemNameTi.getText()}));
		}
		
	</JavaScript>
</View>